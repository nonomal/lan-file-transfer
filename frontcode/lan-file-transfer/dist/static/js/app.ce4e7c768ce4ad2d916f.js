webpackJsonp([1],{"+skl":function(e,t){},"AE+t":function(e,t,s){e.exports=s.p+"static/img/tranfer.37330ac.png"},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1"}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(e){s("fq6c")},null,null).exports,o=s("/ocq"),r=s("BTaQ"),l=s.n(r),c=s("MJLE"),d=s.n(c),u={data:function(){var e=this;return{selectKey:"",tablePage:{total:100,pageIndex:1,pageSize:10},itemsPerPages:[5,10,20,30,40],urls:[],url:"",openQrCode:!1,isMobile:!1,qrcode:"",hostPort:"",columns1:[{title:"文件名",align:"center",key:"filename",render:function(t,s){return t("span",{style:{margin:"2px",border:"",color:"#FF7D41",cursor:"pointer"},on:{click:function(){var t=s.row.filename;e.download_file(t)}}},s.row.filename)}},{title:"上传时间",key:"createtime",align:"center",width:100},{title:"操作",key:"action",align:"center",maxWidth:80,render:function(t,s){return t("div",[t("i-button",{props:{type:"error",size:"small"},on:{click:function(){var t=s.row.filename;e.delete_file(t)}}},"删除")])}}],data1:[{filename:"图片ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss.png",createtime:"1"},{filename:"视频.mp4",createtime:"2"},{filename:"1.txt",createtime:"3"},{filename:"身份证.jpg",createtime:""}]}},mounted:function(){this.getData(),this.getUrls(),this.checkIsMobile()},methods:{download_file:function(e){var t=document.createElement("a");t.href="/data/"+e,t.download=e,t.style.display="none",document.body.appendChild(t),t.click(),t.remove()},delete_file:function(e){var t=this,s={fileName:e};t.axios.delete("/api/deleteFile",{params:s}).then(function(e){200==e.status?t.getData():t.$Modal.error({title:"删除",content:e.msg})}).catch(function(e){console.log(e)})},select_file:function(){this._data.tablePage.pageIndex=1,this.getData()},getData:function(){var e=this,t={key:this._data.selectKey,pageIndex:this._data.tablePage.pageIndex,pageSize:this._data.tablePage.pageSize};e.axios.get(e.hostPort+"/api/getPageListFile",{params:t}).then(function(t){if(200==t.status){var s=[];t.data.data.forEach(function(t,a){var n={filename:t.FileName,createtime:e.numberToTimeStr(t.CreateTime)};s.push(n)}),e._data.data1=s,console.log(s),e._data.tablePage.total=t.data.total}else e.$Modal.info({title:"查询数据",content:"获取失败"})}).catch(function(e){console.log(e)})},getUrls:function(){var e=this;e.axios.get(e.hostPort+"/api/getLocalUrls").then(function(t){e._data.urls=t.data.urls,e._data.url=t.data.urls[0],e.getQrCode()}).catch(function(e){console.log(e)})},updateQrCode:function(){this.qrcode.clear(),this.qrcode.makeCode(this.url)},getQrCode:function(){this.qrcode=new d.a("qrcode",{text:this.url,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.a.CorrectLevel.H})},checkIsMobile:function(){return navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},openQrCodeModal:function(){this._data.openQrCode=!this._data.isMobile},handlePage:function(e){this._data.tablePage.pageIndex=e,this.getData()},handlePageSize:function(e){this._data.tablePage.pageIndex=1,this._data.tablePage.pageSize=e,this.getData()},numberToTimeStr:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0")+" "+t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0")}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"90%",left:"5%",position:"relative"}},[a("Modal",{attrs:{width:"250",title:"扫描二维码进入"},model:{value:e.openQrCode,callback:function(t){e.openQrCode=t},expression:"openQrCode"}},[a("Select",{staticStyle:{width:"200px",margin:"0.675rem"},on:{"on-change":e.updateQrCode},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}},e._l(e.urls,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1),e._v(" "),a("div",{staticStyle:{"text-align":"center",left:"8px",position:"relative"},attrs:{id:"qrcode"}}),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),e._v(" "),a("br"),e._v(" "),e.isMobile?e._e():a("Button",{staticStyle:{width:"15%"},attrs:{type:"info",shape:"circle"},on:{click:e.openQrCodeModal}},[e._v("显示系统二维码")]),e._v(" "),a("br"),e._v(" "),a("img",{staticStyle:{width:"15%"},attrs:{src:s("AE+t")}}),e._v(" "),a("br"),e._v(" "),a("Input",{staticStyle:{width:"60%",margin:"0.675rem"},attrs:{size:"large",placeholder:"请输入你想查询的文件名..."},on:{"on-enter":e.select_file},model:{value:e.selectKey,callback:function(t){e.selectKey=t},expression:"selectKey"}}),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.select_file}},[e._v("查询")]),e._v(" "),a("br"),e._v(" "),a("Upload",{attrs:{"on-success":e.getData,multiple:"",type:"drag",action:"/api/uploadFile"}},[a("div",{staticStyle:{padding:"1.25rem","background-color":"coral"}},[a("Icon",{staticStyle:{color:"#8F8F9E"},attrs:{type:"ios-cloud-upload",size:"100"}}),e._v(" "),a("p",{staticClass:"p1"},[e._v("点击或将文件拖拽到这里上传")])],1)]),e._v(" "),a("br"),e._v(" "),a("Table",{attrs:{stripe:"",border:"",columns:e.columns1,data:e.data1}}),e._v(" "),a("Page",{staticStyle:{"text-align":"right",margin:"0.675rem"},attrs:{total:e.tablePage.total,current:e.tablePage.pageIndex,"page-size-opts":e.itemsPerPages,"show-sizer":"","show-total":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)},staticRenderFns:[]};var g=s("VU/8")(u,p,!1,function(e){s("Pt2i")},"data-v-d71686a6",null).exports;a.default.use(o.a);var f=new o.a({routes:[{path:"/",name:"FileTranfer",component:g}]}),h=s("mtWM"),m=s.n(h),v=s("aLYK");s("+skl");a.default.use(v.a,m.a),a.default.use(l.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:f,components:{App:i},template:"<App/>"})},Pt2i:function(e,t){},fq6c:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ce4e7c768ce4ad2d916f.js.map