webpackJsonp([1],{"+skl":function(e,t){},"AE+t":function(e,t,s){e.exports=s.p+"static/img/tranfer.37330ac.png"},DAey:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1"}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App"},n,!1,function(e){s("fq6c")},null,null).exports,i=s("/ocq"),l=s("BTaQ"),r=s.n(l),c=s("MJLE"),d=s.n(c),p={data:function(){var e=this;return{selectKey:"",self:this,tablePage:{total:100,pageIndex:1,pageSize:10},itemsPerPages:[5,10,20,30,40],urls:[],url:"",openQrCode:!1,isMobile:!1,columns1:[{title:"文件名",align:"center",key:"filename",render:function(t,s){return t("div",[t(l.Button,{props:{size:"small"},style:{marginRight:"0.3125rem",overflow:"hidden",cursor:"pointer"},on:{click:function(){var t=s.row.filename;e.download_file(t)}}},s.row.filename)])}},{title:"操作",key:"action",align:"center",maxWidth:80,render:function(t,s){return t("div",[t(l.Button,{props:{type:"error",size:"small"},on:{click:function(){console.log(s);s.index;var t=s.row.filename;e.delete_file(t)}}},"删除")])}}],data1:[{filename:"图片ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss.png"},{filename:"视频.mp4"},{filename:"1.txt"},{filename:"身份证.jpg"}]}},mounted:function(){this.getData(),this.getUrls(),this.checkIsMobile()},methods:{download_file:function(e){var t=document.createElement("a");t.href="/data/"+e,t.download=e,t.style.display="none",document.body.appendChild(t),t.click(),t.remove()},delete_file:function(e){var t=this,s={fileName:e};t.axios.delete("/api/deleteFile",{params:s}).then(function(e){200==e.status?t.getData():t.$Modal.error({title:"删除",content:e.msg})}).catch(function(e){console.log(e)})},select_file:function(){this._data.tablePage.pageIndex=1,this.getData()},getData:function(){var e=this,t={key:this._data.selectKey,pageIndex:this._data.tablePage.pageIndex,pageSize:this._data.tablePage.pageSize};e.axios.get("/api/files",{params:t}).then(function(t){if(200==t.status){var s=[];t.data.data.forEach(function(e,t){var a={filename:e};s.push(a)}),e._data.data1=s,e._data.tablePage.total=t.data.total}else e.$Modal.info({title:"查询数据",content:"获取失败"})}).catch(function(e){console.log(e)})},getUrls:function(){var e=this;e.axios.get("/api/getUrls").then(function(t){console.log(t),e._data.urls=t.data.urls,e._data.url=t.data.urls[0],e.getQrCode()}).catch(function(e){console.log(e)})},getQrCode:function(){new d.a("qrcode",{text:this.url,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.a.CorrectLevel.H})},checkIsMobile:function(){var e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);this._data.isMobile=!!e,console.log(this._data.isMobile)},openQrCodeModal:function(){console.log("sss"),console.log(this._data.isMobile),this._data.isMobile?this._data.openQrCode=!1:this._data.openQrCode=!0,console.log(this._data._openQrCode)},handlePage:function(e){this._data.tablePage.pageIndex=e,this.getData()},handlePageSize:function(e){this._data.tablePage.pageIndex=1,this._data.tablePage.pageSize=e,this.getData()}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"90%",left:"5%",position:"relative"}},[a("Modal",{attrs:{width:"250",title:"扫描二维码进入"},model:{value:e.openQrCode,callback:function(t){e.openQrCode=t},expression:"openQrCode"}},[a("div",{staticStyle:{"text-align":"center",left:"8px",position:"relative"},attrs:{id:"qrcode"}}),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),a("br"),e._v(" "),e.isMobile?e._e():a("Button",{staticStyle:{width:"15%"},attrs:{type:"info",shape:"circle"},on:{click:e.openQrCodeModal}},[e._v("显示系统二维码")]),e._v(" "),a("br"),e._v(" "),a("img",{staticStyle:{width:"15%"},attrs:{src:s("AE+t")}}),e._v(" "),a("br"),e._v(" "),a("Input",{staticStyle:{width:"60%",margin:"0.675rem"},attrs:{size:"large",placeholder:"请输入你想查询的文件名..."},on:{"on-enter":e.select_file},model:{value:e.selectKey,callback:function(t){e.selectKey=t},expression:"selectKey"}}),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:e.select_file}},[e._v("查询")]),e._v(" "),a("br"),e._v(" "),a("Upload",{attrs:{"on-success":e.getData,multiple:"",type:"drag",action:"/api/uploadFile"}},[a("div",{staticStyle:{padding:"1.25rem","background-color":"coral"}},[a("Icon",{staticStyle:{color:"#8F8F9E"},attrs:{type:"ios-cloud-upload",size:"100"}}),e._v(" "),a("p",{staticClass:"p1"},[e._v("点击或将文件拖拽到这里上传")])],1)]),e._v(" "),a("br"),e._v(" "),a("Table",{attrs:{stripe:"",border:"",context:e.self,columns:e.columns1,data:e.data1}}),e._v(" "),a("Page",{staticStyle:{"text-align":"right",margin:"0.675rem"},attrs:{total:e.tablePage.total,current:e.tablePage.pageIndex,"page-size-opts":e.itemsPerPages,"show-sizer":"","show-total":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)},staticRenderFns:[]};var f=s("VU/8")(p,u,!1,function(e){s("DAey")},"data-v-dead0d86",null).exports;a.default.use(i.a);var g=new i.a({routes:[{path:"/",name:"FileTranfer",component:f}]}),h=s("mtWM"),v=s.n(h),m=s("aLYK");s("+skl");a.default.use(m.a,v.a),a.default.use(r.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:g,components:{App:o},template:"<App/>"})},fq6c:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.707d9e299eb16547a657.js.map