webpackJsonp([1],{"+skl":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("meta",{attrs:{name:"viewport",content:"width=device-width, initial-scale=1"}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},n,!1,function(e){s("fq6c")},null,null).exports,l=s("/ocq"),o=s("BTaQ"),r=s.n(o),c=s("MJLE"),d=s.n(c),u={data:function(){var e=this;return{selectKey:"",self:this,tablePage:{total:100,pageIndex:1,pageSize:10},itemsPerPages:[5,10,20,30,40],urls:[],url:"",openQrCode:!1,columns1:[{title:"文件名",align:"center",key:"filename",render:function(t,s){return t("div",[t(o.Button,{props:{size:"small"},style:{marginRight:"0.3125rem",overflow:"hidden",cursor:"pointer"},on:{click:function(){var t=s.row.filename;e.download_file(t)}}},s.row.filename)])}},{title:"操作",key:"action",align:"center",render:function(t,s){return t("div",[t(o.Button,{props:{type:"error",size:"small"},on:{click:function(){console.log(s);s.index;var t=s.row.filename;e.delete_file(t)}}},"删除")])}}],data1:[{filename:"图片ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss.png"},{filename:"视频.mp4"},{filename:"1.txt"},{filename:"身份证.jpg"}]}},mounted:function(){var e=this;window.onresize=function(t){e.$refs.tableData.handleResize()},this.getData(),this.getUrls()},methods:{download_file:function(e){var t=document.createElement("a");t.href="/data/"+e,t.download=e,t.style.display="none",document.body.appendChild(t),t.click(),t.remove()},delete_file:function(e){var t=this,s={fileName:e};t.axios.delete("/api/deleteFile",{params:s}).then(function(e){200==e.status?t.getData():t.$Modal.error({title:"删除",content:e.msg})}).catch(function(e){console.log(e)})},select_file:function(){this._data.tablePage.pageIndex=1,this.getData()},getData:function(){var e=this,t={key:this._data.selectKey,pageIndex:this._data.tablePage.pageIndex,pageSize:this._data.tablePage.pageSize};e.axios.get("/api/files",{params:t}).then(function(t){if(200==t.status){var s=[];t.data.data.forEach(function(e,t){var a={filename:e};s.push(a)}),e._data.data1=s,e._data.tablePage.total=t.data.total}else e.$Modal.info({title:"查询数据",content:"获取失败"})}).catch(function(e){console.log(e)})},getUrls:function(){var e=this;e.axios.get("/api/getUrls").then(function(t){console.log(t),e._data.urls=t.data.urls,e._data.url=t.data.urls[0],e.getQrCode()}).catch(function(e){console.log(e)})},getQrCode:function(){new d.a("qrcode",{text:this.url,width:200,height:200,colorDark:"#000000",colorLight:"#ffffff",correctLevel:d.a.CorrectLevel.H})},handlePage:function(e){this._data.tablePage.pageIndex=e,this.getData()},handlePageSize:function(e){this._data.tablePage.pageIndex=1,this._data.tablePage.pageSize=e,this.getData()}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"90%",left:"5%",position:"relative"}},[s("Modal",{attrs:{width:"250",title:"扫描二维码进入"},model:{value:e.openQrCode,callback:function(t){e.openQrCode=t},expression:"openQrCode"}},[s("div",{staticStyle:{"text-align":"center"},attrs:{id:"qrcode"}}),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),s("Select",{staticStyle:{width:"40%",margin:"0.675rem"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}},e._l(e.urls,function(t){return s("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1),e._v(" "),s("Button",{attrs:{type:"error"},on:{click:function(t){e.openQrCode=!0}}},[e._v("点击显示二维码")]),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("Input",{staticStyle:{width:"60%",margin:"0.675rem"},attrs:{size:"large",placeholder:"请输入你想查询的文件名..."},on:{"on-enter":e.select_file},model:{value:e.selectKey,callback:function(t){e.selectKey=t},expression:"selectKey"}}),e._v(" "),s("Button",{attrs:{type:"primary"},on:{click:e.select_file}},[e._v("查询")]),e._v(" "),s("br"),e._v(" "),s("Upload",{attrs:{"on-success":e.getData,multiple:"",type:"drag",action:"/api/uploadFile"}},[s("div",{staticStyle:{padding:"1.25rem","background-color":"coral"}},[s("Icon",{staticStyle:{color:"#8F8F9E"},attrs:{type:"ios-cloud-upload",size:"100"}}),e._v(" "),s("p",{staticClass:"p1"},[e._v("点击或将文件拖拽到这里上传")])],1)]),e._v(" "),s("br"),e._v(" "),s("Table",{ref:"tableData",attrs:{stripe:"",border:"",context:e.self,columns:e.columns1,data:e.data1}}),e._v(" "),s("Page",{staticStyle:{"text-align":"right",margin:"0.675rem"},attrs:{total:e.tablePage.total,current:e.tablePage.pageIndex,"page-size-opts":e.itemsPerPages,"show-sizer":"","show-total":""},on:{"on-change":e.handlePage,"on-page-size-change":e.handlePageSize}})],1)},staticRenderFns:[]};var p=s("VU/8")(u,f,!1,function(e){s("PENU")},"data-v-c30f24b0",null).exports;a.default.use(l.a);var g=new l.a({routes:[{path:"/",name:"FileTranfer",component:p}]}),h=s("mtWM"),v=s.n(h),m=s("aLYK");s("+skl");a.default.use(m.a,v.a),a.default.use(r.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:g,components:{App:i},template:"<App/>"})},PENU:function(e,t){},fq6c:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.eb2ef986879cbcef42be.js.map